# linux


## aliyun环境实战命令

> [!TIP|label:常用命令]

```
查看进程命令
ps -ef | grep 端口号
netstat -anp | grep 端口号
netstat -lntp

查看占用端口的PID
sudo lsof -i:8800  //sudo lsof -i:<端口号>
kill端口
sudo kill -9 26191  //sudo kill -9 <PID>
```  

> [!TIP|label:防火墙相关]

```
安装防火墙
yum install firewalld


查看防火墙状态
systemctl status firewalld
查看某个端口放行状态
firewall-cmd --query-port=6379/tcp

开启防火墙
systemctl start firewalld
给端口放行
firewall-cmd --zone=public --add-port=6379/tcp --permanent
重新加载
firewall-cmd --reload


最后关闭防火墙
systemctl stop firewalld
```

* * * * * * * * * * * * * * * * 
## Linux常用命令

### ls命令

就是 list 的缩写，通过 ls 命令不仅可以查看 linux 文件夹包含的文件，而且可以查看文件权限(包括目录、文件夹、文件权限)查看目录信息等等。

### cd 命令

cd(changeDirectory) 命令语法：`cd [目录名]`

说明：切换当前目录至 dirName。

进入 "home" 目录：`cd ~`

进入上一次工作路径：`cd -`

### pwd 命令

pwd 命令用于查看当前工作目录路径。

### mkdir 命令

mkdir 命令用于创建文件夹。

可用选项：

- **-m**: 对新建目录设置存取权限，也可以用 chmod 命令设置;
- **-p**: 可以是一个路径名称。此时若路径中的某些目录尚不存在,加上此选项后，系统将自动建立好那些尚不在的目录，即一次可以建立多个目录。

### rm 命令

删除一个目录中的一个或多个文件或目录，如果没有使用 -r 选项，则 rm 不会删除目录。如果使用 rm 来删除文件，通常仍可以将该文件恢复原状。

`rm [选项] 文件…`

### rmdir 命令

从一个目录中删除一个或多个子目录项，删除某目录时也必须具有对其父目录的写权限。

**注意**：不能删除非空目录

### mv 命令

移动文件或修改文件名，根据第二参数类型（如目录，则移动文件；如为文件则重命令该文件）。

当第二个参数为目录时，第一个参数可以是多个以空格分隔的文件或目录，然后移动第一个参数指定的多个文件到第二个参数指定的目录中。

### cp 命令

将源文件复制至目标文件，或将多个源文件复制至目标目录。

注意：命令行复制，如果目标文件已经存在会提示是否覆盖，而在 shell 脚本中，如果不加 -i 参数，则不会提示，而是直接覆盖！

### cat 命令

cat 主要有三大功能：

1.一次显示整个文件:`cat filename`

2.从键盘创建一个文件:`cat > filename ` 只能创建新文件，不能编辑已有文件。

3.将几个文件合并为一个文件:`cat file1 file2 > file`

### more 命令

功能类似于 cat, more 会以一页一页的显示方便使用者逐页阅读，而最基本的指令就是按空白键（space）就往下一页显示，按 b 键就会往回（back）一页显示。

### less 命令

less 与 more 类似，但使用 less 可以随意浏览文件，而 more 仅能向前移动，却不能向后移动，而且 less 在查看之前不会加载整个文件。

### head 命令

head 用来显示档案的开头至标准输出中，默认 head 命令打印其相应文件的开头 10 行。

### tail 命令

用于显示指定文件末尾内容，不指定文件时，作为输入信息进行处理。常用查看日志文件。

### ==chmod 命令==

用于改变 linux 系统文件或目录的访问权限。用它控制文件或目录的访问权限。该命令有两种用法。一种是包含字母和操作符表达式的文字设定法；另一种是包含数字的数字设定法。

每一文件或目录的访问权限都有三组，每组用三位表示，分别为文件属主的读、写和执行权限；与属主同组的用户的读、写和执行权限；系统中其他用户的读、写和执行权限。可使用 ls -l test.txt 查找。

### ==chown 命令==

chown 将指定文件的拥有者改为指定的用户或组，用户可以是用户名或者用户 ID；组可以是组名或者组 ID；文件是以空格分开的要改变权限的文件列表，支持通配符。

### 查看磁盘空间命令

Linux 查看磁盘空间可以使用 **df** 和 **du** 命令。

#### df

==df 以磁盘分区为单位查看文件系统==，可以获取硬盘被占用了多少空间，目前还剩下多少空间等信息。

例如，我们使用`df -h`命令来查看磁盘信息， **-h** 选项为根据大小适当显示：

#### du

**du** 的英文原义为 **disk usage**，含义为显示磁盘空间的使用情况，==用于查看当前目录的总大小==。

例如查看当前目录的大小：`du -sh`

方便阅读的格式显示test目录所占空间情况：`du -h test`

### 查看进程命令

#### ps命令

用来查看当前运行的进程状态，一次性查看，如果需要动态连续结果使用 top

linux上进程有5种状态:

- 运行(正在运行或在运行队列中等待)
- 中断(休眠中, 受阻, 在等待某个条件的形成或接受到信号)
- 不可中断(收到信号不唤醒和不可运行, 进程必须等待直到有中断发生)
- 僵死(进程已终止, 但进程描述符存在, 直到父进程调用wait4()系统调用后释放)
- 停止(进程收到SIGSTOP, SIGSTP, SIGTIN, SIGTOU信号后停止运行运行)

ps 工具标识进程的5种状态码:

```
D 不可中断 uninterruptible sleep (usually IO)
R 运行 runnable (on run queue)
S 中断 sleeping
T 停止 traced or stopped
Z 僵死 a defunct (”zombie”) process
```

**命令参数：**

```
-A 显示所有进程
a 显示所有进程
-a 显示同一终端下所有进程
c 显示进程真实名称
e 显示环境变量
f 显示进程间的关系
r 显示当前终端运行的进程
-aux 显示所有包含其它使用的进程
```

#### top 命令

‘top’是一个更加有用的命令，可以监视系统中不同的进程所使用的资源。它提供实时的系统状态信息。显示进程的数据包括PID、进程属主、优先级、%CPU、%memory等。可以使用这些显示指示出资源使用量。

#### kill命令

这个命令用于发送信号来结束进程

### 文件查找命令

#### find

用于在文件树中查找文件，并作出相应的处理。`find pathname -options [-print -exec -ok ...]`

#### locate

locate 是另外一个根据文件名来搜索文件的命令。区别于 find 命令，locate 命令无需指定路径，直接搜索即可。

这个命令不是直接去系统的各个角落搜索文件，而是在一个叫 mlocate.db 的数据库下搜索

#### which

which 命令主要用来查找可执行文件的位置，它搜索的位置指定在 \$PATH 及 $MANPATH 环境变量下的值，默认情况下，which 命令将显示可执行文件的第一个存储位置：

如果某个可执行文件存储在多个位置，可以使用 -a 选项列出所有的位置。

如果你想一次性查找多个文件，可以直接跟在 which 命令后面即可。

#### whereis 

whereis 命令只能用于程序名的搜索，而且只搜索二进制文件（参数-b）、man说明文件（参数-m）和源代码文件（参数-s）。如果省略参数，则返回所有信息。whereis 及 locate 都是基于系统内建的数据库进行搜索，因此效率很高，而find则是遍历硬盘查找文件。

### grep 命令

强大的文本搜索命令，grep(Global Regular Expression Print) 全局正则表达式搜索。

grep 的工作方式是这样的，它在一个或多个文件中搜索字符串模板。如果模板包括空格，则必须被引用，模板后的所有字符串被看作文件名。搜索的结果被送到标准输出，不影响原文件内容。

命令格式：`grep [option] pattern file|dir`

### wc 命令

wc(word count)功能为统计指定的文件中字节数、字数、行数，并将统计结果输出

命令格式：`wc [option] file..`

* * * * * * * * * * * * * * * * 

## Linux相关资源    
Linux路线： [https://www.jianshu.com/p/59f759207862](https://www.jianshu.com/p/59f759207862)




